function(AddTestTarget tgt source testDescription)
    add_executable(${tgt} ${source})
    target_link_libraries(${tgt} PRIVATE ceclib)
    target_include_directories(${tgt} PUBLIC ${CMAKE_SOURCE_DIR}/src)
    add_test(NAME "${testDescription}" COMMAND ${tgt})
endfunction()

AddTestTarget(test1 test1.cpp "test-enum-color-v1")
AddTestTarget(test2 test2.cpp "test-enum-color-v2")
AddTestTarget(test3 test3.cpp "test-cec-enum-lexer")
AddTestTarget(test4 test4.cpp "test-cec-enum-parser")
AddTestTarget(test5 test5.cpp "test-cec-enum-checker")
AddTestTarget(test6 test6.cpp "test-cec-code-generator")
AddTestTarget(test7 ColorUnitTest.cpp "test-enum-color-v3-auto-generated")
